<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<script src="./elliptic.js"></script>
	</head>
	<body>
		<div class="main-wrap">
			<header></header>
			<main>
				<div class="output">
					<canvas
						class="output-canvas"
						height="750"
						width="750" ></canvas>
					<div class="output-telemtry">
					</div>	
				</div>
			</main>
		</div>
		<footer></footer>
		<script>
			window.addEventListener('DOMContentLoaded', () => {
				
				const testKeplerSystem = (new KeplerSystem()).init([
					{
						m: 5.972 * 1E+24,
						kinematics : [0, 0, 0, 0, 0, 0], 
						lightWeight: false
					},
					{
						m: 100,
						kinematics : [7848.4, 0, 0, 0, -6.471 * 1E+6, 0], 
						lightWeight: false
					}
				])
				
				const testResult = testKeplerSystem.integrate(5200, 1)
				testResult.forEach((item, i) => {
					if(i % 50 === 0) {
						const [Vx, Vy, Vz] = item.orbitPrm[1].slice(0, 3)
						const [X, Y, Z] = item.orbitPrm[1].slice(3, 6)
						const V = Math.sqrt(Vx * Vx + Vy * Vy + Vz * Vz)
						const R = Math.sqrt(X * X + Y * Y + Z * Z) - 6.3711 * 1E+6
						console.log(`t(s): ${item.Tau.toFixed(0)};  V(m/s): ${V.toFixed(1)}; H(km): ${R}`)
					}
				})
			})
		</script>
	</body>
</html>